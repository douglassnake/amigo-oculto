<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Amigo Oculto - Fam√≠lia Buscap√©</title>
  <style>
    body{
      font-family: Arial, sans-serif;
      background: linear-gradient(135deg,#d60000,#006b1b);
      margin: 0;
      padding: 20px;
      color: #fff;
    }
    .top-bar{
      text-align: center;
      font-weight: bold;
      font-size: 22px;
      padding: 10px 0;
      background: #b30000;
      color: #fff;
      margin-bottom: 10px;
    }
    .container{
      max-width: 600px;
      margin: auto;
      background: rgba(255,255,255,0.9);
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 0 15px rgba(0,0,0,0.2);
    }
    h2{
      text-align: center;
      font-size: 28px;
      color: #b30000;
      text-shadow: 1px 1px 2px #fff;
      margin-top: 0;
    }
    p{
      color: #555;
      font-size: 18px;
    }
    input, button, select{
      width: 100%;
      padding: 14px;
      margin-top: 14px;
      border-radius: 10px;
      border: 1px solid #ccc;
      font-size: 20px;
    }
    button{
      background: #b30000;
      color: white;
      border: none;
      cursor: pointer;
      font-size: 20px;
      font-weight: bold;
    }
    button:hover{
      background: #7a0000;
    }
    #resultado{
      margin-top: 18px;
      font-size: 22px;
      color: #0a7a20;
      text-align: center;
    }
    #aviso{
      margin-top: 10px;
      font-size: 16px;
      color: #b30000;
      text-align: center;
    }
  </style>
</head>
<body>

<div class="top-bar">üéÑ Amigo Oculto - Fam√≠lia Buscap√© üéÅ</div>

<div class="container" id="busca">
  <h2>Consulte seu Amigo Oculto</h2>
  <p id="labelNome">
    Se voc√™ recebeu um link individual, seu nome j√° vir√° selecionado abaixo.
    Cada participante s√≥ pode consultar <b>uma vez</b> neste dispositivo.
  </p>
  <select id="selectNome">
    <option value="">-- Selecione seu nome --</option>
  </select>
  <button onclick="verResultado()">Ver meu amigo oculto</button>
  <h3 id="resultado"></h3>
  <p id="aviso"></p>
</div>

<script>
  // Lista de participantes (para modo geral, sem ?id=)
  const participantes = [
    "Douglas",
    "Chaiene",
    "Jo√£o Miguel",
    "Sheila",
    "Leonardo",
    "Ot√°vio",
    "Miguel",
    "Valentina",
    "Antonella",
    "Vilmonde",
    "Maria do Vilmondes",
    "Cleide",
    "Micaella",
    "Ana Laura da Micaella",
    "Rian da Micaella",
    "Claudia",
    "Alysson",
    "Maiunne",
    "Carla esposa do Paulinho",
    "Carlos Gudim",
    "Glaucia",
    "Maria Rita do Jo√£o Miguel",
    "Carla Melo",
    "Paulinho da Carla",
    "Dorva (m√£e da Carla)",
    "Paulinho Boeira",
    "Renata",
    "Paola Boeira",
    "Rafaela Boeira",
    "Ant√¥nio Furtado",
    "Maria Luzia",
    "Pe. Rodrigo",
    "Jadir",
    "Claudiana",
    "Nildo",
    "Junior (primo do Jadir)",
    "Erika",
    "Pedro"
  ];

  // Resultado do sorteio aleat√≥rio (fixo)
  // Cada pessoa -> seu amigo oculto
  const amigos = {
    "Douglas":"Renata",
    "Chaiene":"Rian da Micaella",
    "Jo√£o Miguel":"Junior (primo do Jadir)",
    "Sheila":"Ana Laura da Micaella",
    "Leonardo":"Maria Rita do Jo√£o Miguel",
    "Ot√°vio":"Vilmonde",
    "Miguel":"Paulinho Boeira",
    "Valentina":"Carlos Gudim",
    "Antonella":"Alysson",
    "Vilmonde":"Glaucia",
    "Maria do Vilmondes":"Pe. Rodrigo",
    "Cleide":"Micaella",
    "Micaella":"Ant√¥nio Furtado",
    "Ana Laura da Micaella":"Jo√£o Miguel",
    "Rian da Micaella":"Miguel",
    "Claudia":"Nildo",
    "Alysson":"Sheila",
    "Maiunne":"Jadir",
    "Carla esposa do Paulinho":"Paulinho da Carla",
    "Carlos Gudim":"Antonella",
    "Glaucia":"Ot√°vio",
    "Maria Rita do Jo√£o Miguel":"Rafaela Boeira",
    "Carla Melo":"Dorva (m√£e da Carla)",
    "Paulinho da Carla":"Carla esposa do Paulinho",
    "Dorva (m√£e da Carla)":"Douglas",
    "Paulinho Boeira":"Claudiana",
    "Renata":"Pedro",
    "Paola Boeira":"Maria do Vilmondes",
    "Rafaela Boeira":"Carla Melo",
    "Ant√¥nio Furtado":"Claudia",
    "Maria Luzia":"Paola Boeira",
    "Pe. Rodrigo":"Cleide",
    "Jadir":"Maria Luzia",
    "Claudiana":"Chaiene",
    "Nildo":"Valentina",
    "Junior (primo do Jadir)":"Leonardo",
    "Erika":"Maiunne",
    "Pedro":"Erika"
  };

  // Tokens para links individuais: ?id=xxxx
  // Exemplo de link: https://SEUSITE.github.io/amigo-buscape/?id=dg01
  const tokens = {
    "dg01":"Douglas",
    "ch02":"Chaiene",
    "jm03":"Jo√£o Miguel",
    "sh04":"Sheila",
    "le05":"Leonardo",
    "ot06":"Ot√°vio",
    "mi07":"Miguel",
    "va08":"Valentina",
    "an09":"Antonella",
    "vi10":"Vilmonde",
    "mv11":"Maria do Vilmondes",
    "cl12":"Cleide",
    "mc13":"Micaella",
    "al14":"Ana Laura da Micaella",
    "ri15":"Rian da Micaella",
    "cd16":"Claudia",
    "aly17":"Alysson",
    "ma18":"Maiunne",
    "ce19":"Carla esposa do Paulinho",
    "cg20":"Carlos Gudim",
    "gl21":"Glaucia",
    "mr22":"Maria Rita do Jo√£o Miguel",
    "cm23":"Carla Melo",
    "pc24":"Paulinho da Carla",
    "do25":"Dorva (m√£e da Carla)",
    "pb26":"Paulinho Boeira",
    "re27":"Renata",
    "pa28":"Paola Boeira",
    "rf29":"Rafaela Boeira",
    "af30":"Ant√¥nio Furtado",
    "ml31":"Maria Luzia",
    "pr32":"Pe. Rodrigo",
    "ja33":"Jadir",
    "cld34":"Claudiana",
    "ni35":"Nildo",
    "ju36":"Junior (primo do Jadir)",
    "er37":"Erika",
    "pe38":"Pedro"
  };

  // Controle local de quem j√° consultou (por dispositivo/navegador)
  const consultados = {};

  // Ao carregar a p√°gina
  window.onload = function(){
    const select = document.getElementById("selectNome");
    const label = document.getElementById("labelNome");
    const params = new URLSearchParams(window.location.search);
    const id = params.get("id");

    if (id && tokens[id]) {
      // Modo link individual: nome travado
      const nome = tokens[id];
      const opt = document.createElement("option");
      opt.value = nome;
      opt.textContent = nome;
      select.innerHTML = "";
      select.appendChild(opt);
      select.value = nome;
      select.disabled = true;
      label.innerHTML = "Seu nome j√° est√° selecionado üëá<br>Veja seu amigo oculto e guarde em segredo! üéÅ";
    } else {
      // Modo geral: todos os nomes liberados (√∫til para teste)
      participantes.forEach(p => {
        const opt = document.createElement("option");
        opt.value = p;
        opt.textContent = p;
        select.appendChild(opt);
      });
    }
  };

  function verResultado(){
    const select = document.getElementById("selectNome");
    const nome = select.value;
    const resultadoEl = document.getElementById("resultado");
    const avisoEl = document.getElementById("aviso");

    resultadoEl.innerHTML = "";
    avisoEl.innerHTML = "";

    if(!nome){
      avisoEl.textContent = "Por favor, selecione seu nome na lista.";
      return;
    }

    if(consultados[nome]){
      avisoEl.textContent = "Este nome j√° consultou o amigo oculto. Cada participante s√≥ pode ver uma vez neste dispositivo.";
      return;
    }

    const amigo = amigos[nome];
    if(!amigo){
      avisoEl.textContent = "N√£o foi poss√≠vel localizar seu amigo oculto. Fale com o organizador.";
      return;
    }

    consultados[nome] = true;
    resultadoEl.innerHTML = `Seu amigo oculto √©:<br><b>${amigo}</b>`;
    avisoEl.innerHTML = "Guarde essa informa√ß√£o em segredo ü§´";
  }
</script>

</body>
</html>
S